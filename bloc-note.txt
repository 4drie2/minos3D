Parsing map :
---

Une map est dÃ©crite dans un fichier `.cub` contenant :

1. Les **textures et couleurs** (en haut du fichier)
2. Puis la **map** elle-mÃªme (le labyrinthe)

Avant la map, il dois obligatoirement y avoir ces six Ã©lÃ©ments :

| Ã‰lÃ©ment | Signification                | Exemple                   |
| ------- | ---------------------------- | ------------------------- |
| `NO`    | Texture du mur Nord          | `NO ./textures/north.xpm` |
| `SO`    | Texture du mur Sud           | `SO ./textures/south.xpm` |
| `WE`    | Texture du mur Ouest         | `WE ./textures/west.xpm`  |
| `EA`    | Texture du mur Est           | `EA ./textures/east.xpm`  |
| `F`     | Couleur du sol (Floor)       | `F 220,100,0`             |
| `C`     | Couleur du plafond (Ceiling) | `C 225,30,0`              |

Chaque valeur doit Ãªtre prÃ©sente **exactement une fois** et **avant la map**.
Les couleurs sont des **R,G,B** (de 0 Ã  255).
Les chemins peuvent Ãªtre relatifs.

---

* La map est composÃ©e uniquement de :

  * `1` â†’ mur
  * `0` â†’ vide / espace jouable
  * `N`, `S`, `E`, `W` â†’ position du joueur et orientation initiale
  * (Optionnel) ` ` (espace) â†’ extÃ©rieur ou vide de remplissage
  * bonus: 'd' -> porte

#### Contraintes :

* **EntourÃ©e entiÃ¨rement par des murs** (`1`) â€” aucune fuite vers lâ€™extÃ©rieur.
* Une seule position de joueur (`N`, `S`, `E`, `W`).
* Pas de caractÃ¨res inconnus.
* Pas de lignes vides **au milieu de la map**.
* La map doit Ãªtre **rectangulaire logiquement** (tu peux pad avec des espaces Ã  droite pour les lignes plus courtes).

---

map-invalide1.cub -> Map non fermÃ©e
* Case en bas Ã  droite (`0`) ouverte sur lâ€™extÃ©rieur.
* Donc map pas complÃ¨tement entourÃ©e de `1`.

map-invalide2.cub -> Deux joueurs
* Deux positions de joueur (`N` et `S`).

map-invalide3.cub -> Ligne vide dans la map
* Ligne vide **au milieu** de la map â†’ sÃ©pare la map en deux parties.

map-invalide4.cub -> CaractÃ¨re inconnu
* `A` est un caractÃ¨re inconnu.

map-invalide5.cub -> Texture manquante
* `EA` manquant â†’ il faut les 4 directions de texture.

---

## ğŸ§  3. Conseils pour ton parsing

Voici les principales vÃ©rifications que ton parser doit faire :

1. **PrÃ©sence de toutes les textures/couleurs** avant la map.
2. **Aucune ligne vide** entre les Ã©lÃ©ments (ordre correct).
3. **Validation des couleurs RGB** (3 nombres entre 0 et 255, sÃ©parÃ©s par des virgules).
4. **Un seul joueur.**
5. **Aucun caractÃ¨re invalide.**
6. **Map entiÃ¨rement fermÃ©e.**
7. **Gestion des espaces** : ils doivent Ãªtre considÃ©rÃ©s comme hors de la map, donc les `0` adjacents Ã  des espaces sont interdits.

---

Souhaites-tu que je tâ€™ajoute des **exemples limites** pour tester les espaces, les lignes non rectangulaires ou les couleurs invalides (genre `F 256,0,0`) ?
Ã‡a peut te servir pour les tests de parsing plus avancÃ©s.
